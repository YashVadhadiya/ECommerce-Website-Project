!function(r){function e(){function a(e,t,o,c){""==e||"select"==c&&" "==e?t.hasClass("validate-required")&&o.addClass("field-required"):o.removeClass("field-required")}var e=r("form.woocommerce-checkout #customer_details"),t=e.find("input, textarea"),o=e.find("select");t.on("blur",function(){var e=r(this),t=e.attr("type"),o=e.closest("p.form-row"),c=e.val();a(c,o,e,t)}),o.on("blur",function(){var e=r(this).closest("p.form-row"),t=e.find(".select2-container--default"),o=e.find("select").val();a(o,e,t,"select")})}function t(){if("yes"==cartflows.allow_persistence&&!1!==function(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}()){var e="form.woocommerce-checkout #customer_details",t=function(){var e=[],t=r("form.woocommerce-checkout #customer_details");localStorage.removeItem("cartflows_checkout_form"),t.find("input[type=text], select, input[type=email], input[type=tel]").each(function(){e.push({name:this.name,value:this.value})}),cartflows_checkout_form=JSON.stringify(e),localStorage.setItem("cartflows_checkout_form",cartflows_checkout_form)};(function(){if(null!=localStorage.getItem("cartflows_checkout_form")){checkout_data=JSON.parse(localStorage.getItem("cartflows_checkout_form"));for(var e=0;e<checkout_data.length;e++)r("form.woocommerce-checkout [name="+checkout_data[e].name+"]").hasClass("select2-hidden-accessible")?r("form.woocommerce-checkout [name="+checkout_data[e].name+"]").selectWoo("val",[checkout_data[e].value]):r("form.woocommerce-checkout [name="+checkout_data[e].name+"]").val(checkout_data[e].value)}})(),r(e+" input, "+e+" select").on("change",function(){t()})}}r(function(){t(),e()})}(jQuery);